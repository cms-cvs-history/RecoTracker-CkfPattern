process tracking = 
{
  untracked PSet maxEvents = {untracked int32 input = -1}

  ### keep the logging output to a nice level ###
  include "FWCore/MessageService/data/MessageLogger.cfi"
  replace MessageLogger.cout.placeholder = "INFO"

  ### Strip Tracker calibrations ES sources
  include "CalibTracker/Configuration/data/SiStrip_FakeLorentzAngle.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakeGain.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakeNoise.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakePedestals.cff"
	 
  source = PoolSource 
  { 
     untracked vstring fileNames = {'file:hits.root'}
  }

  service = SimpleMemoryCheck {
    untracked int32 ignoreTotal = 1 # default is one
  }
	
  ### SeedGenerator module ###
  include "RecoTracker/TkSeedGenerator/data/GlobalPixelSeeds.cff"

  # KFTrackCandidateMaker
  include "RecoTracker/CkfPattern/data/CkfTrackCandidates.cff"
  replace ckfTrackCandidates.SeedProducer = "globalPixelSeeds"

  # CTF track fit with material
  include "RecoTracker/TrackProducer/data/CTFFinalFitWithMaterial.cff"

  module out = PoolOutputModule 
  {
     untracked string fileName = 'tracks.root'
     untracked vstring outputCommands = 
      {
        "keep *"
# 	"drop *_siPixelDigis_*_*",
#	"drop *_siStripDigis_*_*"

 #      "drop *_TrackCandidate_*_*"
 #	"drop *_g4SimHits_*_*",
 # 	"drop *_siPixelClusters_*_*",
 #	"drop *_siStripClusters_*_*",
 #      "drop *_RecHit_*_*",
       }
  }
  
  path p = {globalPixelSeeds ,
            ckfTrackCandidates,
            ctfWithMaterialTracks
  }

  endpath e = {out}
}
