process Prod = 
{
  ### keep the logging output to a nice level ###
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
  # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # geometry
  es_source = XMLIdealGeometryESSource 
  { 
    # tracker geometry
    FileInPath GeometryConfiguration = "Geometry/TrackerSimData/data/trackerSimConfiguration.xml"

    # the proper root node is set in the xml file
    string rootNodeName = ""
  }

  # tracker geometry
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # tracker numbering
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
#
# KF components
#
  include "RecoTracker/TrackProducer/data/FinalFitWithMaterial.cfi"
  replace TrackProducer.src = "CkfTrackCandidates"

  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:CleanToTrackCandidates.root"}
    untracked int32 maxEvents = -1 
  }



  
  module AsciiOutput = AsciiOutputModule {}

  module out = PoolOutputModule 
  {
    untracked string fileName = "TrackCandidatesToTracks.root"
  }

  path p = 
  {
    TrackProducer
  }
  
  endpath e = 
  {
    AsciiOutput, out
  }
}
