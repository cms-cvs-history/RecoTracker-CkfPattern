process Digitization = 
{
  untracked PSet maxEvents = {untracked int32 input = -1}

  include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

  ### keep the logging output to a nice level ###
  include "FWCore/MessageService/data/MessageLogger.cfi"
 
  ### initialize magnetic field ###
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  ### initialize idealGeometry ###
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"


  ### tracker numbering ###
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  ### tracker geometry ###
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  ### trackingParticle information ###
  include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"

  ### fake calibs ###
  include "CalibTracker/Configuration/data/Tracker_FakeConditions.cff"


  ### initialize randomNumberService ###
  service = RandomNumberGeneratorService
  {
     untracked uint32 sourceSeed = 98765
     PSet moduleSeeds =
     {
         untracked uint32 siPixelDigis = 12345  
         untracked uint32 siStripDigis = 67890
	 untracked uint32 mix          = 45132
     }
  }

  ### Mixing Module
  include "SimGeneral/MixingModule/data/mixNoPU.cfi"

  ### Strip Tracker calibrations ES sources
  include "CalibTracker/Configuration/data/SiStrip_FakeLorentzAngle.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakeGain.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakeNoise.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakePedestals.cff"

  source = PoolSource 
  { 
    untracked vstring fileNames = {'file:simHit.root'}
    untracked uint32 debugVebosity = 10
    untracked bool   debugFlag     = true
  }

  #include Digitizer
  include "SimTracker/SiPixelDigitizer/data/PixelDigi.cfi"	
  include "SimTracker/SiStripDigitizer/data/SiStripDigi.cfi"
 
  module out = PoolOutputModule 
  {
    untracked string fileName = 'digis.root'
  }
                                                 
  path p = 
  {
   mix,trackingParticles,siPixelDigis,siStripDigis
 }

  endpath e = 
  {
    out
  }
}
