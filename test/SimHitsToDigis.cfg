process CkfPattern = 
{
  ### keep the logging output to a nice level ###
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
  ### initialize magnetic field ###
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  ### initialize idealGeometry ###
  es_source = XMLIdealGeometryESSource 
  { 
    # tracker geometry
    FileInPath GeometryConfiguration = "Geometry/TrackerSimData/data/trackerSimConfiguration.xml"

    # the proper root node is set in the xml file
    string rootNodeName = ""
  }

  ### tracker numbering ###
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  ### tracker geometry ###
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

		

  source = PoolSource 
  { 
    untracked vstring fileNames = {'file:simHit.root'}
    untracked int32 maxEvents = -1
    untracked uint32 debugVebosity = 10
    untracked bool   debugFlag     = true
  }


  #include Digitizer
  include "SimTracker/SiPixelDigitizer/data/PixelDigi.cfi"	
  include "SimTracker/SiStripDigitizer/data/SiStripDigi.cfi"
 
  module AsciiOutput = AsciiOutputModule {}
 
  module out = PoolOutputModule 
  {
    untracked string fileName = 'digis.root'
  }
                                                 
  path p = 
  {
	pixdigi,stripdigi
 }

  endpath e = 
  {
    AsciiOutput,out
  }
}
