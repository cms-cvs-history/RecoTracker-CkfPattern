process RoadSearch = {

  ################# initialize  MessageLogger ###############
  service = MessageLogger 
  {
    vstring destinations = 
    { 
      "log","cout","cerr"
    }

    PSet log = 
    { 
      string threshold = "INFO" 
    }
  
    PSet cout = 
    { 
      string threshold = "INFO" 
    }
  
    PSet cerr = 
    { 
      string threshold = "INFO" 
    }
  }
	
  

 
  ############ initialize magnetic field #########################
  es_source magfield = XMLIdealGeometryESSource 
  {
    FileInPath GeometryConfiguration = "Geometry/CMSCommonData/data/FieldConfiguration.xml"
  
    # the proper root node is set in the xml file
    string rootNodeName = ""
  }

  es_module = VolumeBasedMagneticFieldESProducer 
  {
    double findVolumeTolerance = 0.0
    untracked bool cacheLastVolume = true
    untracked bool timerOn = false
  }


  ############### initialize geometry #####################
  es_source = XMLIdealGeometryESSource 
  { 

    # tracker geometry
    FileInPath GeometryConfiguration = "Geometry/TrackerSimData/data/trackerSimConfiguration.xml"

    # full simulation geometry
    #FileInPath GeometryConfiguration = "Geometry/CMSCommonData/data/SimConfiguration.xml"

    # the proper root node is set in the xml file
    string rootNodeName = ""
  }
		
  es_module = TrackerGeometricDetESModule {}
  es_module = TrackerDigiGeometryESModule {}
  es_module = StripCPEESProducer {  
    string ComponentName = "StandardStripCPE"
    double TanLorentzAnglePerTesla = 0.106
  }


  source = PoolSource 
  { 
    untracked vstring fileNames = {'file:simHit.root'}
    untracked int32 maxEvents = -1
    untracked uint32 debugVebosity = 10
    untracked bool   debugFlag     = true
  }


  include "SimTracker/SiPixelDigitizer/data/PixelDigi.cfi"	


  module stripdigi =  SiStripDigitizer {
     string SimProducer = "SimDigitizer"  
     bool APVpeakmode = false
     bool NoNoise = true 
     bool LandauFluctuations = true
     int32 chargeDivisionsPerStrip = 10
     double DepletionVoltage = 140.
     double AppliedVoltage = 150.
     double ChargeMobility = 480.
     double Temperature = 297.
     bool noDiffusion = false
     double ChargeDistributionRMS = 6.5e-10
     double GevPerElectron = 3.61e-09

     double ElectronPerAdc = 313.0 
     double EquivalentNoiseCharge300um = 2160.
     double AdcThreshold = 2.
     int32 AdcFullScale = 255
     double ThresholdInNoiseUnits = 5.
     double TanLorentzAnglePerTesla =0.106
     int32 AddStripInefficiency = 0
     bool AddNoise = true
     bool AddNoisyStrips = true
     double DeltaProductionCut= 0.120425 
     bool FluctuateCharge = true
     int32 addStripInefficiency = 0
     double StripEff = -1.0
     double StripChipEff = -1.0     
     bool MissCalibrate = false
     double GainSmearing = 0.0
     double OffsetSmearing = 0.0
     int32 StripAPV = 128
     
     int32 FedAlgorithm = 4
     double FedLowThreshold = 2.
     double FedHighThreshold = 5.

     untracked int32 VerbosityLevel = 0   
  }
 
  module AsciiOutput = AsciiOutputModule {}
 
  module out = PoolOutputModule 
  {
    untracked string fileName = 'digis.root'
  }
                                                 
  path p = 
  {
	pixdigi,stripdigi
 }

  endpath e = 
  {
    AsciiOutput,out
  }
}
