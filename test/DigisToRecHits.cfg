process RecHitConversion = 
{
  untracked PSet maxEvents = {untracked int32 input = -1}

  ### keep the logging output to a nice level ###
  include "FWCore/MessageService/data/MessageLogger.cfi"
	 
  ### initialize magnetic field ###
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  ### initialize idealGeometry ###
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

  ### tracker numbering ###
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  ### tracker geometry ###
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"


  source = PoolSource 
  { 
    untracked vstring fileNames = {'file:digis.root'}
  }

  ### StripCPEfromTrackAngleESProducer es_module
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"


  ### Pixel Clusterizer and RecHit producer modules
  include "RecoLocalTracker/SiPixelClusterizer/data/SiPixelClusterizer.cfi"
  include "RecoLocalTracker/SiPixelRecHits/data/SiPixelRecHits.cfi" 

  ### SiliconStrip Clusterizer and RecHit producer modules
  include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"

  ### Strip Tracker calibrations ES sources
  include "CalibTracker/Configuration/data/SiStrip_FakeLorentzAngle.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakeGain.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakeNoise.cff"
  include "CalibTracker/Configuration/data/SiStrip_FakePedestals.cff"

  module out = PoolOutputModule 
  {
    untracked string fileName = 'hits.root'
  }

  path p = 
  {
    siPixelClusters,siPixelRecHits, siStripClusters,siStripMatchedRecHits
  }

  endpath e = 
  {
    out
  }
}
