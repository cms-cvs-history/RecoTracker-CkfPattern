process CkfPattern = 
{
  ### keep the logging output to a nice level ###
  include "FWCore/MessageService/data/MessageLogger.cfi"
	 
  ### StripCPEfromTrackAngleESProducer es_module
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"

  ### Pixel Clusterizer and RecHit producer modules
  include "RecoLocalTracker/SiPixelClusterizer/data/SiPixelClusterizer.cfi"
  include "RecoLocalTracker/SiPixelRecHits/data/SiPixelRecHits.cfi" 

  ### SiliconStrip Clusterizer and RecHit producer modules
  include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer_SimData.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"

  ### GlobalPixelSeedGenerator module ###
  include "RecoTracker/TkSeedGenerator/data/GlobalMixedSeeds.cff"

  # CKFTrackCandidateMaker
  include "RecoTracker/CkfPattern/data/CkfTrackCandidates.cff"

  source = PoolSource 
  { 
    untracked vstring fileNames = {'file:digis.root'}
    untracked int32 maxEvents = -1
  }


  module out = PoolOutputModule 
  {
    untracked string fileName = 'digisToCands.root'
  }

  path p = 
  {
    siPixelClusters,siPixelRecHits, siStripClusters,siStripMatchedRecHits,
    globalMixedSeeds,ckfTrackCandidates
  }

  endpath e = 
  {
    out
  }
}
