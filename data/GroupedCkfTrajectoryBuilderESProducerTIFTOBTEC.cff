############ initialize magnetic field #########################
#include "Geometry/CMSCommonData/data/cmsMagneticFieldXML.cfi"
include "MagneticField/Engine/data/uniformMagneticField.cfi"


############### initialize geometry #####################
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

# KFUpdatoerESProducer
include "TrackingTools/KalmanUpdators/data/KFUpdatorESProducer.cfi"

# Chi2MeasurementEstimatorESProducer
include "TrackingTools/KalmanUpdators/data/Chi2MeasurementEstimatorESProducer.cfi"

# PropagatorWithMaterialESProducer
include "TrackingTools/MaterialEffects/data/MaterialPropagator.cfi"

# PropagatorWithMaterialESProducer
include "TrackingTools/MaterialEffects/data/OppositeMaterialPropagator.cfi"

# stripCPE
include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPE.cfi"
include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"

# pixelCPE
include "RecoLocalTracker/SiPixelRecHits/data/PixelCPEParmError.cfi"
#TransientTrackingBuilder
include "RecoTracker/TransientTrackingRecHit/data/TransientTrackingRecHitBuilder.cfi"

# MeasurementTracker
es_module CTF_TIFTOBTEC_MeasurementTracker = MeasurementTracker from "RecoTracker/MeasurementDet/data/MeasurementTrackerESProducer.cfi"
replace CTF_TIFTOBTEC_MeasurementTracker.ComponentName        = "CTF_TIFTOBTEC"
replace CTF_TIFTOBTEC_MeasurementTracker.pixelClusterProducer = ""

# trajectory filtering
include "TrackingTools/TrajectoryFiltering/data/TrajectoryFilterESProducer.cff"

es_module ckfBaseTrajectoryFilterTIFTOBTEC = trajectoryFilterESProducer from "TrackingTools/TrajectoryFiltering/data/TrajectoryFilterESProducer.cfi"
replace ckfBaseTrajectoryFilterTIFTOBTEC.ComponentName = "ckfBaseTrajectoryFilterTIFTOBTEC"
replace ckfBaseTrajectoryFilterTIFTOBTEC.filterPset.minPt = 0.01
#replace ckfBaseTrajectoryFilterTIFTOBTEC.filterPset.maxLostHits = 3
#replace ckfBaseTrajectoryFilterTIFTOBTEC.filterPset.maxConsecLostHits = 1
#replace ckfBaseTrajectoryFilterTIFTOBTEC.filterPset.minimumNumberOfHits =  4



##############################################
es_module GroupedCkfTrajectoryBuilderTIFTOBTEC = GroupedCkfTrajectoryBuilder from "RecoTracker/CkfPattern/data/GroupedCkfTrajectoryBuilderESProducer.cfi"
replace GroupedCkfTrajectoryBuilderTIFTOBTEC.MeasurementTrackerName = "CTF_TIFTOBTEC"
replace GroupedCkfTrajectoryBuilderTIFTOBTEC.ComponentName = "GroupedCkfTrajectoryBuilderTIFTOBTEC"
replace GroupedCkfTrajectoryBuilderTIFTOBTEC.trajectoryFilterName   = "ckfBaseTrajectoryFilterTIFTOBTEC"
